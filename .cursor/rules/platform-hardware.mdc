---
alwaysApply: true
---

# Platform & Hardware

## Hardware
- **Device**: Jetson Nano Super
- **Architecture**: ARM64 (aarch64)
- **OS**: Ubuntu 22.04 (Kernel 5.15.148-tegra)
- **Display Server**: Wayland (권장) 또는 X11

## Graphics Support
- **GPU**: NVIDIA Tegra integrated GPU
- **OpenGL**: 4.6
- **OpenGL ES**: 3.2
- **Vulkan**: 1.3
- **EGL**: 1.5 (Wayland 지원)

## Wayland + OpenGL
Jetson은 Wayland + EGL + OpenGL을 공식 지원합니다.

### 지원되는 구성
- ✅ Wayland + EGL + OpenGL (Desktop GL 4.6)
- ✅ Wayland + EGL + OpenGL ES 3.2
- ✅ Wayland + Vulkan 1.3
- ❌ Wayland + GLX (GLX는 X11 전용)

### Qt 설정
```python
# Wayland EGL 플랫폼
os.environ['QT_QPA_PLATFORM'] = 'wayland-egl'

# OpenGL ES + EGL 포맷
fmt = QSurfaceFormat()
fmt.setRenderableType(QSurfaceFormat.OpenGLES)
fmt.setVersion(3, 2)
fmt.setSwapInterval(1)  # vsync
QSurfaceFormat.setDefaultFormat(fmt)
```

## Development Environment
- **Python**: 3.12+
- **GUI Framework**: PySide6
- **Package Manager**: `uv`
- **Camera SDK**: Mindvision mvsdk

## Required Packages
```bash
sudo apt install -y libxcb-cursor0
```

## Wayland Setup
```bash
# Wayland 활성화
nvstart-weston.sh

# 소켓 확인
ls /run/user/$(id -u)/wayland-*
```

## SSH 접속 시
- Wayland: 자동 설정 (`wayland_utils.py`)
- X11: `export DISPLAY=:0`

## Troubleshooting

### OpenGL 컨텍스트 생성 실패 (EGL Error 3009)
**원인**: GLX 사용 시도 (Wayland에서 불가)

**해결**:
1. `QT_QPA_PLATFORM=wayland-egl` 설정
2. `QSurfaceFormat.setRenderableType(QSurfaceFormat.OpenGLES)` 사용
3. OpenGL ES 3.2 버전 지정

### Wayland 소켓 없음
```bash
# Weston 실행 확인
ps aux | grep weston

# Wayland 소켓 확인
ls /run/user/$(id -u)/wayland-0
```
